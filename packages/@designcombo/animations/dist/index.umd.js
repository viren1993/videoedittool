(function(v,S){typeof exports=="object"&&typeof module<"u"?S(exports,require("react/jsx-runtime"),require("react"),require("remotion")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","remotion"],S):(v=typeof globalThis<"u"?globalThis:v||self,S(v.animations={},v.jsxRuntime,v.React,v.remotion))})(this,function(v,S,x,X){"use strict";const Y=()=>({scale:t=>({transform:`scale(${t})`}),opacity:t=>({opacity:t}),translateX:t=>({transform:`translateX(${t}px)`}),translateY:t=>({transform:`translateY(${t}px)`}),rotate:t=>({transform:`rotate(${t}deg)`}),default:()=>({}),rotateY:t=>({transform:`rotateY(${t}deg)`}),shakeHorizontalIn:t=>({transform:`translateX(${t}px)`,overflow:"hidden"}),shakeVerticalIn:t=>({transform:`translateY(${t}px)`,overflow:"hidden"}),shakeHorizontalOut:t=>({transform:`translateX(${t}px)`,overflow:"hidden"}),shakeVerticalOut:t=>({transform:`translateY(${t}px)`,overflow:"hidden"})}),E=(t,s=0)=>{const e=[],a=t/5;for(let l=0;l<6;l+=1)e.push(l*a+s);return e},C=(t,s,e,a=!1)=>{const{from:l,to:n,ease:c}=s,r=s.durationInFrames||30,d=Number(l),i=Number(n),o=Math.max(1,Number(r));if(isNaN(d)||isNaN(i))return console.error("Invalid animation values:",{from:l,to:n,animationDurationInFrames:r,property:s.property}),d;r===void 0&&console.warn(`durationInFrames is undefined for animation: ${s.property}. Using 1 frame as default.`);const f=a?[e-r,e]:[0,o];if(s.property.includes("shake")){const p=a?E(o,e-r):E(o);return X.interpolate(t,p,[0,d,i,d,i,0],{extrapolateLeft:"clamp",extrapolateRight:"clamp",easing:c})}return X.interpolate(t,f,[d,i],{extrapolateLeft:"clamp",extrapolateRight:"clamp",easing:c})},V=(t,s,e,a)=>{const l=s-(t.delay||0)*(a?-1:1),{property:n,durationInFrames:c}=t;if(!a&&l>c)return{};const r=C(l,t,e,a),d=Y();return(d[n]||d.default)(r)},A=(t,s,e,a=!1,l=!1)=>x.useMemo(()=>{if(t.length===0)return{};const n=t.filter(c=>c.from!==void 0&&c.to!==void 0);if(n.length!==t.length&&console.error("Some animations are invalid and will be ignored"),l){const c=[],r={};n.reverse().forEach(o=>{const f=V(o,e,s,!1);if(o.persist===!0&&e-(o.delay||0)>=o.durationInFrames){const g=o.to,b=Y(),u=(b[o.property]||b.default)(g);Object.keys(u).forEach($=>{$==="transform"?r[$]=r[$]?{[$]:`${r[$][$]} ${u[$]}`}:u:r[$]=u})}c.push(f)});const i={...c.reduce((o,f)=>(Object.keys(f).forEach(p=>{p==="transform"?o[p]=o[p]?`${o[p]} ${f[p]}`:f[p]:o[p]=f[p]}),o),{})};return Object.keys(r).forEach(o=>{const f=r[o];o==="transform"&&f.transform?i.transform=i.transform?`${i.transform} ${f.transform}`:f.transform:f[o]!==void 0&&(i[o]=f[o])}),i}else return n.map(r=>V(r,e,s,a)).reduce((r,d)=>(Object.keys(d).forEach(i=>{i==="transform"?r[i]=r[i]?`${r[i]} ${d[i]}`:d[i]:r[i]=d[i]}),r),{})},[t,e,s,a]),F=t=>t?Array.isArray(t)?t:[t]:[],H=(...t)=>{const s=[];return t.forEach(e=>{Array.isArray(e)?s.push(...e):e&&s.push(e)}),s.filter(e=>e!==void 0).reduce((e,a)=>e.find(n=>n.property===a.property)?e.map(n=>n.property===a.property?{...n,from:Math.min(n.from,a.from),to:Math.max(n.to,a.to),durationInFrames:Math.max(n.durationInFrames,a.durationInFrames),delay:Math.min(n.delay||0,a.delay||0),ease:c=>(n.ease(c)+a.ease(c))/2}:n):[...e,a],[])},N=({animationIn:t,animationOut:s,durationInFrames:e,children:a,style:l={},frame:n,isTransition:c=!1})=>{var T;const r=A(F(t),e,n,!1),d=A(F(s),e,n,!0),i=x.useMemo(()=>{const h=Object.keys(r).length>0,m=t==null?void 0:t.reduce((M,j)=>Math.min(M,j.delay||0),1/0),y=n-(m||0);return h&&y<0?{visibility:c?"visible":"hidden"}:r},[r,n,t]),o=x.useMemo(()=>{const h=(s==null?void 0:s.length)>0,m=s==null?void 0:s.reduce((y,M)=>{const j=M.delay||0;return Math.max(y,j)},0);return h&&n>e-m?{visibility:c?"visible":"hidden"}:d},[d,n,s]),p=((l==null?void 0:l.transform)||"").match(/rotate\((-?[\d.]+)deg\)/),g=p?parseFloat(p[1]):0,b=-g,u=x.useMemo(()=>{const h={...i};return Object.entries(o).forEach(([m,y])=>{m==="transform"?h[m]=`${h[m]||""} ${y||""}`.trim():m in h&&typeof h[m]=="number"&&typeof y=="number"?h[m]=h[m]*y:h[m]=y}),h},[i,o]);if((T=u.transform)!=null&&T.includes("rotate")){const h=u.transform;u.transform=h.replace(/rotate\(([^)]+)deg\)/,(m,y)=>`rotate(${parseFloat(y)-b}deg)`)}const $=x.useMemo(()=>{const h=u.transform||"",{translateX:m,translateY:y,scale:M,rotation:j,rotateY:_}=I(h);return`${m} ${y} ${M} ${j||`rotate(${g}deg)`} ${_}`.trim()},[u,g]);let w=r;return g>0&&w.transform&&w.transform.includes("translateX")&&(w={...w,transform:w.transform.replace(/translateX\(([^)]+)\)/g,(h,m)=>`translateX(${parseFloat(m)}px)`)}),S.jsx("div",{style:{overflow:u.overflow||"visible",pointerEvents:"none",...w,transform:(w.transform||"")+` -rotate(${b}deg) scale(1)`,background:Object.keys(u).length===0?"transparent":u.backgroundColor,display:"flex",justifyContent:"center"},children:S.jsx("div",{style:{...l,...u,rotate:`${b}deg`,overflow:"visible",transform:$,pointerEvents:"none",background:Object.keys(u).length===0?"transparent":u.backgroundColor},children:a})})},I=t=>{let s="",e="",a="scale(1)",l="",n="";const c=t.match(/translateX\([^)]+\)/);c&&(s=c[0]);const r=t.match(/translateY\([^)]+\)/);r&&(e=r[0]);const d=t.match(/scale\([^)]+\)/);d&&(a=d[0]);const i=t.match(/rotate\([^)]+\)/);i&&(l=i[0]);const o=t.match(/rotateY\([^)]+\)/);return o&&(n=o[0]),{translateX:s,translateY:e,scale:a,rotation:l,rotateY:n}},R=({animationTimed:t,durationInFrames:s,children:e,style:a={},frame:l})=>{var p;const n=A(F(t),s,l,!1,!0),r=((a==null?void 0:a.transform)||"").match(/rotate\((-?[\d.]+)deg\)/),d=r?parseFloat(r[1]):0,i=-d,o=x.useMemo(()=>({...n}),[n]);if((p=o.transform)!=null&&p.includes("rotate")){const g=o.transform;o.transform=g.replace(/rotate\(([^)]+)deg\)/,(b,u)=>`rotate(${parseFloat(u)-i}deg)`)}let f=o;return d>0&&f.transform&&f.transform.includes("translateX")&&(f={...f,transform:f.transform.replace(/translateX\(([^)]+)\)/g,(g,b)=>`translateX(${parseFloat(b)}px)`)}),S.jsx("div",{style:{overflow:o.overflow||"visible",pointerEvents:"none",height:a.height,width:a.width,...f},children:S.jsx("div",{style:{...o,overflow:"visible",pointerEvents:"none",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e})})},D=({children:t,frame:s,item:e,keyframeAnimations:a})=>{var p,g;const l=a==null?void 0:a.find(b=>b.property.includes("maskReveal")),n=((p=e.details.crop)==null?void 0:p.width)||e.details.width,c=((g=e.details.crop)==null?void 0:g.height)||e.details.height;let r=1,d=c,i=0,o=0,f=n;if((s||0)-e.display.from>=0&&(l==null?void 0:l.property)==="maskRevealIn")r=Math.min((s||0)/l.durationInFrames,1),d=c-c*(1-r);else if((s||0)-e.display.from>=0&&(l==null?void 0:l.property)==="maskRevealCenterIn"){r=Math.min((s||0)/l.durationInFrames,1);const b=n/2,u=c/2;f=n,d=c*r,i=b-f/2,o=u-d/2}else(s||0)-e.display.from>=0&&(l==null?void 0:l.property)==="maskRevealCornerIn"&&(r=Math.min((s||0)/l.durationInFrames,1),f=n*r,d=c*r,i=n-f,o=0);return S.jsx("div",{style:{width:n,height:c,position:"relative",overflow:"hidden"},children:S.jsx("div",{style:{position:"absolute",left:i,top:o,width:f,height:d,overflow:"hidden"},children:t})})};v.BoxAnim=N,v.ContentAnim=R,v.MaskAnim=D,v.combine=H,v.combineAnimations=F,v.extractTransformations=I,v.useAnimation=A,Object.defineProperty(v,Symbol.toStringTag,{value:"Module"})});
